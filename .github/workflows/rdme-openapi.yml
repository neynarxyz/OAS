name: ReadMe GitHub Action ðŸ¦‰

on:
  push:
    branches:
      - main

jobs:
  rdme-openapi:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repo ðŸ“š
        uses: actions/checkout@v3

      - name: Set up Working Directory
        run: pwd && ls -R

      - name: Run `openapi` command for v1 spec ðŸš€
        uses: readmeio/rdme@v8
        with:
          rdme: openapi src/v1/spec.yaml --key=${{ secrets.README_API_KEY }} --id=65313d8d196216005b2ed13e

      - name: Run `openapi` command for v2 spec ðŸš€
        uses: readmeio/rdme@v8
        with:
          rdme: openapi src/v2/spec.yaml --key=${{ secrets.README_API_KEY }} --id=653140896cad5a001321c86f

      - name: Run `openapi` command for v2 recommendation spec ðŸš€
        uses: readmeio/rdme@v8
        with:
          rdme: openapi src/v2/recommendation/spec.yaml --key=${{ secrets.README_API_KEY }} --id=6537721ac0ccd40031482643
